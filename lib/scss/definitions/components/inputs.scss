//
//  DIALTONE
//  DEFINITIONS: INPUTS
//
//  These are input definitions for Dialpad's design system Dialtone.
//  For further documentation of these and other classes, please visit:
//  https://dialpad.design/components/inputs
//
//  TABLE OF CONTENTS
//  • INPUTS & TEXTAREAS
//    - Base Style
//    - Validation States
//    - Sizes
//  • SELECT MENUS
//  • CHECKBOXES
//  • RADIOS
//  • TOGGLES
//  • LABELS
//
//  ============================================================================
@each $breakpoint, $variant in $rwd-variants {
    @include rwd($breakpoint) {
        //  ====================================================================
        //  $   INPUT
        //  --------------------------------------------------------------------
        %#{$variant}dt-input {
            @include input-base-style;
        }

        //  ====================================================================
        //  $   SELECT MENU (NATIVE)
        //  --------------------------------------------------------------------
        %#{$variant}dt-select {
            position: relative;
            font-size: $input-font-size;

            //  --  Creat some arrows
            &:before,
            &:after {
                content: "";
                position: absolute;
                z-index: $z-selected;
                right: 0.75em;
                border-color: $slate transparent;
                border-style: solid;
                border-width: 0.25em;
                pointer-events: none;
            }
            &:before {
                top: calc(50% - 0.25em);
                border-top-width: 0;
            }
            &:after {
                top: calc(50% + 0.125em);
                border-bottom-width: 0;
            }

            > select {
                //  [1] Reset the appearance
                -webkit-appearance: none;
                   -moz-appearance: none;
                        appearance: none;

                //  [2] Update the styles
                @include input-base-style;
                padding-right: 2em;
                height: 100%; // Fill the height of its parent
                background-color: $white;

                &::-moz-focus-inner {
                    outline: none !important;
                }
                &:-moz-focusring {
                    color: transparent;
                    text-shadow: 0 0 0 #000;
                }
                &::-ms-expand {
                    display: none;
                }
            }
        }

        //  ====================================================================
        //  $   TEXTAREA
        //  --------------------------------------------------------------------
        %#{$variant}dt-textarea {
            @include input-base-style;
            padding-left: ($sp12 - $sp1);  // Minus out the border
            padding-right: ($sp12 - $sp1);  // Minus out the border
            min-height: 8rem;
        }

        //  ====================================================================
        //  $   SIZES
        //  ====================================================================
        //  $$  INPUTS
        //  --------------------------------------------------------------------
        %#{$variant}dt-input__xs { @include input-button-xs; }
        %#{$variant}dt-input__sm { @include input-button-sm; }
        %#{$variant}dt-input__lg { @include input-button-lg; }
        %#{$variant}dt-input__xl { @include input-button-xl; }

        //
        //  $$  TEXTAREAS
        //  --------------------------------------------------------------------
        %#{$variant}dt-textarea__xs {
            @include input-button-xs;
            min-height: 4rem;
        }
        %#{$variant}dt-textarea__sm {
            @include input-button-sm;
            min-height: 4.8rem;
        }
        %#{$variant}dt-textarea__lg {
            @include input-button-lg;
            min-height: 9.2rem;
        }
        %#{$variant}dt-textarea__xl {
            @include input-button-xl;
            min-height: 10rem;
        }

        //  $$  SELECT MENUS (NATIVE)
        //  --------------------------------------------------------------------
        %#{$variant}dt-select__xs {
            font-size: $text-xs;

            > select {
                @include input-button-xs;
                padding-right: 2em;
            }
        }
        %#{$variant}dt-select__sm {
            font-size: $text-sm;

            > select {
                @include input-button-sm;
                padding-right: 2em;
            }
        }
        %#{$variant}dt-select__lg {
            font-size: $text-lg;

            > select {
                @include input-button-lg;
                padding-right: 2em;
            }
        }
        %#{$variant}dt-select__xl {
            font-size: $text-lg;

            > select {
                @include input-button-xl;
                padding-right: 2em;
            }
        }

        //  ====================================================================
        //  $   FIELDSET
        //      Reset values
        //  --------------------------------------------------------------------
        %fieldset {
            padding: $sp0;
            min-width: $sp0;
            border: $sp0;
        }

        //  ====================================================================
        //  $   LABELS
        //  --------------------------------------------------------------------
        %#{$variant}dt-label {
            display: inline-flex;
            flex: 1 0%;
            align-items: baseline;
            justify-content: space-between;
            margin: 0 $sp2;

            color: currentColor;
            fill: currentColor;
            font-size: $text-md;
            font-weight: $fw-bold;
            line-height: $lh-lg;

            cursor: pointer;
            word-break: break-word;
            overflow-wrap: break-word;
        }

        //  ====================================================================
        //  $   LABEL DESCRIPTION COPY
        //  --------------------------------------------------------------------
        %#{$variant}dt-description {
            display: block;
            margin: 0 $sp2 $sp8;
            color: $fc-light;
            fill: currentColor;
            font-size: $text-sm;
            font-family: $ff-sans;
            line-height: $lh-md;
        }

        //  ====================================================================
        //  $   INPUT MESSAGE COPY
        //  --------------------------------------------------------------------
        %#{$variant}dt-input-message {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            margin: $sp4 $sp2;
            font-weight: inherit;
            font-size: $text-sm;
            font-family: $ff-sans;
            line-height: inherit;
        }

        //  ====================================================================
        //  $   INPUT STATES
        //  --------------------------------------------------------------------
        %#{$variant}has-warning {
            @include input-has-warning;
        }
        %#{$variant}has-error {
            @include input-has-error;
        }
        %#{$variant}has-success {
            @include input-has-success;
        }
    }
}
