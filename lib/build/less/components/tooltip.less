//
//  DIALTONE
//  COMPONENTS: TOOLTIPS
//
//  These are tooltip classes for Dialpad's design system Dialtone.
//  For further documentation of these and other classes,
//  visit https://dialpad.design/components/tooltips
//
//  TABLE OF CONTENTS
//  • VARIABLES
//  • BASE STYLE
//  • ALTERNATE STYLES
//  • ARROW DIRECTIONS
//    - TOP LEFT
//    - TOP CENTER
//    - TOP RIGHT
//    - RIGHT TOP
//    - RIGHT CENTER
//    - RIGHT BOTTOM
//    - BOTTOM LEFT
//    - BOTTOM CENTER
//    - BOTTOM RIGHT
//    - LEFT TOP
//    - LEFT CENTER
//    - LEFT BOTTOM
//
//  ============================================================================
//  $   BASE STYLE
//  ----------------------------------------------------------------------------
.d-tooltip-container {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.d-tooltip {
    //  --  COMPONENT CSS VARS
    //  -----------------------
    --tooltip-color-background: var(--black-800);
    --tooltip-color-text: var(--fc-primary-inverted);
    --tooltip-font-weight: var(--fw-medium);
    --tooltip-line-height: var(--lh-300);
    --tooltip-padding-y: var(--space-400);
    --tooltip-padding-x: calc(var(--space-300) * 3);
    --tooltip-border-radius: var(--size-300);

    z-index: var(--zi-tooltip);
    max-width: calc(var(--size-300) * 54); // 216
    padding: var(--tooltip-padding-y) var(--tooltip-padding-x); // 8 12
    color: var(--tooltip-color-text);
    font-weight: var(--tooltip-font-weight);
    font-size: var(--fs-100);
    line-height: var(--tooltip-line-height);
    letter-spacing: calc(var(--size-100) * 0.25);
    text-align: center;
    background-color: var(--tooltip-color-background);
    border-radius: var(--tooltip-border-radius); // 4

    &::after {
        position: absolute;
        border: calc(var(--size-300) + var(--size-200)) solid transparent; // 6
        content: '';
    }
}

//  ============================================================================
//  $   INVERTED STYLE
//  ----------------------------------------------------------------------------
.d-tooltip--inverted {
    //  --  COMPONENT CSS VARS
    //  -----------------------
    --tooltip-color-background: var(--black-200);
    --tooltip-color-text: var(--fc-secondary);
}

//  ============================================================================
//  $   HIDE STYLE
//  ----------------------------------------------------------------------------
.d-tooltip--hide {
    visibility: hidden;
    opacity: 0;
    transition:
        visibility 0s 200ms,
        transform 200ms var(--ttf-in-out) 0s,
        opacity 200ms var(--ttf-in-out) 0s;
}

//  ============================================================================
//  $   SHOW STYLE
//  ----------------------------------------------------------------------------
.d-tooltip--show {
    transform: translate(0, 0);
    visibility: visible;
    opacity: 1;
    transition:
        visibility 0s 0s,
        transform 200ms var(--ttf-in-out) 10ms,
        opacity 200ms var(--ttf-in-out) 10ms;
}

//  ============================================================================
//  $   HOVER AND FOCUS STYLES
//  ----------------------------------------------------------------------------
.d-tooltip--hover {
    .d-tooltip {
        &:extend(.d-tooltip--hide);
    }

    &:hover,
    &:focus-visible {
        .d-tooltip {
            &:extend(.d-tooltip--show);
        }
    }
}

//  ============================================================================
//  $   TOOLTIP DIRECTIONS
//  ============================================================================
//  $$  TOP
//  ----------------------------------------------------------------------------
.d-tooltip__arrow-tippy--bottom-start,
.d-tooltip__arrow-tippy--bottom,
.d-tooltip__arrow-tippy--bottom-end,
.d-tooltip__arrow--top-left,
.d-tooltip__arrow--top-center,
.d-tooltip__arrow--top-right {
  top: calc(100% + calc(var(--space-300) * 3)); // 100% + 12
  transform: translateY(var(--space-500)); // 16

  &::after {
    top: calc(calc(var(--space-300) + var(--space-200)) * -1); // -6
    border-top-width: 0;
    border-bottom-color: var(--tooltip-color-background);
  }
}

//  $$  BOTTOM
//  ----------------------------------------------------------------------------
.d-tooltip__arrow-tippy--top-start,
.d-tooltip__arrow-tippy--top,
.d-tooltip__arrow-tippy--top-end,
.d-tooltip__arrow--bottom-left,
.d-tooltip__arrow--bottom-center,
.d-tooltip__arrow--bottom-right {
  bottom: calc(100% + calc(var(--space-300) * 3)); // 100% + 12
  transform: translateY(calc(var(--space-500) * -1)); // -16

  &::after {
    bottom: calc(calc(var(--space-300) + var(--space-200)) * -1); // -6
    border-top-color: var(--tooltip-color-background);
    border-bottom-width: 0;
  }
}

//  $$  TOP / BOTTOM LEFT
//  ----------------------------------------------------------------------------
.d-tooltip__arrow-tippy--bottom-start,
.d-tooltip__arrow-tippy--top-start,
.d-tooltip__arrow--top-left,
.d-tooltip__arrow--bottom-left {
  left: calc(var(--space-200) * -1); // -2

  &::after {
    left: var(--space-500); // 16
  }
}

//  $$  TOP / BOTTOM CENTER
//  ----------------------------------------------------------------------------
.d-tooltip__arrow-tippy--bottom,
.d-tooltip__arrow-tippy--top,
.d-tooltip__arrow--top-center,
.d-tooltip__arrow--bottom-center {
  &::after {
    left: 50%;
    margin-left: calc(calc(var(--space-300) + var(--space-200)) * -1); // -6
  }
}

//  $$  TOP / BOTTOM RIGHT
//  ----------------------------------------------------------------------------
.d-tooltip__arrow-tippy--bottom-end,
.d-tooltip__arrow-tippy--top-end,
.d-tooltip__arrow--top-right,
.d-tooltip__arrow--bottom-right {
  right: calc(var(--space-200) * -1); // -2

  &::after {
    right: var(--space-500); // 16
  }
}

//  $$  RIGHT
//  ----------------------------------------------------------------------------
.d-tooltip__arrow-tippy--left-start,
.d-tooltip__arrow-tippy--left,
.d-tooltip__arrow-tippy--left-end,
.d-tooltip__arrow--right-top,
.d-tooltip__arrow--right-center,
.d-tooltip__arrow--right-bottom {
  right: calc(100% + calc(var(--space-300) * 3)); // 100% + 12
  transform: translateX(calc(var(--space-500) * -1)); // -16

  &::after {
    right: calc(calc(var(--space-300) + var(--space-200)) * -1); // -6
    border-right-width: 0;
    border-left-color: var(--tooltip-color-background);
  }
}

//  $$  LEFT
//  ----------------------------------------------------------------------------
.d-tooltip__arrow-tippy--right-start,
.d-tooltip__arrow-tippy--right,
.d-tooltip__arrow-tippy--right-end,
.d-tooltip__arrow--left-top,
.d-tooltip__arrow--left-center,
.d-tooltip__arrow--left-bottom {
  left: calc(100% + calc(var(--space-300) * 3)); // 100% + 12
  transform: translateX(var(--space-500)); // 16

  &::after {
    left: calc(calc(var(--space-300) + var(--space-200)) * -1); // -6
    border-right-color: var(--tooltip-color-background);
    border-left-width: 0;
  }
}

//  $$  RIGHT / LEFT TOP
//  ----------------------------------------------------------------------------
.d-tooltip__arrow-tippy--right-start,
.d-tooltip__arrow-tippy--left-start,
.d-tooltip__arrow--right-top,
.d-tooltip__arrow--left-top {
  top: calc(var(--space-100) * -1); // -1

  &::after {
    top: var(--space-400); // 8
  }
}

//  $$  RIGHT / LEFT CENTER
//  ----------------------------------------------------------------------------
.d-tooltip__arrow-tippy--right,
.d-tooltip__arrow-tippy--left,
.d-tooltip__arrow--right-center,
.d-tooltip__arrow--left-center {
  &::after {
    top: 50%;
    margin-top: calc(calc(var(--space-300) + var(--space-200)) * -1); // -6
  }
}

//  $$  RIGHT / LEFT BOTTOM
//  ----------------------------------------------------------------------------
.d-tooltip__arrow-tippy--right-end,
.d-tooltip__arrow-tippy--left-end,
.d-tooltip__arrow--right-bottom,
.d-tooltip__arrow--left-bottom {
  bottom: calc(var(--space-100) * -1); // -1

  &::after {
    bottom: var(--space-400); // 8
  }
}
