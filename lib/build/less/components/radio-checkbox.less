//
//  DIALTONE
//  COMPONENTS: RADIOS & CHECKBOXES
//
//  These are input classes for Dialpad's design system Dialtone.
//  For further documentation of these and other classes,
//  visit https://dialpad.design/components/inputs
//
//  TABLE OF CONTENTS
//  • SHARED STYLES
//  • WRAPPERS
//  • INPUT & COPY BLOCKS
//  • LABELS
//  • CHECKBOXES
//    - Modifications
//    - Validation States
//  • RADIOS
//    - Modifications
//    - Validation States
//
//  ============================================================================
//  $   RADIOS & CHECKBOXES
//  ----------------------------------------------------------------------------
.d-checkbox,
.d-radio {
    //  Component specific CSS Vars
    //  ------------------------------------------------------------------------
    --check-radio--color: hsl(var(--purple-400-h) var(--purple-400-s) var(--purple-400-l));
    --check-radio--bc: var(--black-600);
    --check-radio--bgc: var(--white);

    //  [1] Check to see if we can use custom styles, if so reset the defaults
    //  ------------------------------------------------------------------------
    @supports ((-webkit-appearance: none) or (-moz-appearance: none) or (appearance: none)) {
        width: 1em;
        height: 1em;

        //  [2]  Now re-style the checkboxes and radios
        //  --------------------------------------------------------------------
        margin: 0;
        font-size: inherit;
        background-color: var(--check-radio--bgc);
        border: var(--su1) solid var(--check-radio--bc);
        outline: 0;
        box-shadow: none;
        cursor: pointer;
        -webkit-appearance: none;
           -moz-appearance: none;
                appearance: none;

        &::-ms-check {
            display: none;
        }

        &:focus-visible,
        &:checked:focus-visible {
          --check-radio--bc: var(--check-radio--color);

          outline: 0;
          box-shadow: var(--bs-focus-ring);
        }

        &:checked {
            --check-radio--bc: var(--check-radio--color);
        }
    }

    flex: 0 auto;
    align-self: flex-start;

    //  --  DISABLED
    &[disabled],
    &--disabled {
        --check-radio--color: var(--black-400);
        --check-radio--bc: var(--black-400);
        --check-radio--bgc: var(--black-300);

        cursor: not-allowed;
    }
}


//  ============================================================================
//  $   RADIO / CHECKBOX WRAPPERS
//  ----------------------------------------------------------------------------
.d-checkbox-group,
.d-radio-group {
    display: flex;
    padding-right: var(--su1);
    padding-bottom: var(--su2);
    padding-left: var(--su1);

    //  --  Wrapper Disabled State
    &.d-checkbox-group--disabled,
    &.d-radio-group--disabled {
        .d-checkbox__label,
        .d-radio__label {
            color: var(--black-400);
            cursor: not-allowed;
        }
    }
}


//  ============================================================================
//  $   INPUT BLOCKS
//      This holds the radio or checkbox input
//  ----------------------------------------------------------------------------
.d-checkbox__input,
.d-radio__input {
    display: flex;
    align-self: flex-start;
    padding-top: var(--su2);
}


//  ============================================================================
//  $   COPY BLOCKS
//      This holds the label and description copy
//  ----------------------------------------------------------------------------
.d-checkbox__copy,
.d-radio__copy {
    display: inline-flex;
    flex-direction: column;
    margin-left: var(--su8);
}

.d-checkbox__label,
.d-radio__label {
    display: inline-flex;
    flex: 1 auto;
    flex-direction: column;
    color: var(--black-800);
    font-weight: var(--fw-normal);
    font-size: var(--fs-200);
    line-height: calc(20/14);
    cursor: pointer;
}


//  ============================================================================
//  $   CHECKBOXES
//  ----------------------------------------------------------------------------
.d-checkbox {
    @supports ((-webkit-appearance: none) or (-moz-appearance: none) or (appearance: none)) {
        background-repeat: no-repeat;
        background-position: center center;
        background-size: contain;
        border-radius: var(--br2);

        &:focus-visible,
        &:checked:focus-visible {
            border-radius: var(--br2);
        }

        &:checked {
            --check-radio--bgc: var(--check-radio--color);

            background-image: url("data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z' fill='%23fff'/%3E%3C/svg%3E");

            //  Disabled
            &[disabled] {
                --check-radio--bgc: var(--black-300);

                background-image: url("data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z' fill='hsl(240, 10%, 51%)'/%3E%3C/svg%3E");
            }
        }

        &--disabled:checked {
            --check-radio--bgc: var(--black-300);

            background-image: url("data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z' fill='hsl(240, 10%, 51%)'/%3E%3C/svg%3E");
        }

        &--indeterminate,
        &:indeterminate {
            --check-radio--bgc: var(--check-radio--color);

            background-image: url("data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19 13H5v-2h14v2z' fill='%23fff'/%3E%3C/svg%3E");

            &[disabled] {
                --check-radio--bgc: var(--black-300);

                background-image: url("data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19 13H5v-2h14v2z' fill='hsl(240, 10%, 51%)'/%3E%3C/svg%3E");
            }
        }

        &--indeterminate&--disabled,
        &:indeterminate&--disabled {
            --check-radio--bgc: var(--black-300);

            background-image: url("data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19 13H5v-2h14v2z' fill='hsl(240, 10%, 51%)'/%3E%3C/svg%3E");
        }

        //  Disabled
        &[disabled],
        &--disabled {
            --check-radio--color: var(--black-400);
            --check-radio--bc: var(--black-400);
            --check-radio--bgc: var(--black-300);
        }
    }
}

//  $$  CHECKBOX VALIDATION STATES
//  ----------------------------------------------------------------------------
.d-checkbox--warning {
    --check-radio--color: var(--warning-color);
    --check-radio--bc: var(--check-radio--color);

    &:focus-visible,
    &:checked:focus-visible {
        box-shadow: var(--bs-focus-ring-warning);
    }
}

.d-checkbox--error {
    --check-radio--color: var(--error-color);
    --check-radio--bc: var(--check-radio--color);

    &:focus-visible,
    &:checked:focus-visible {
        box-shadow: var(--bs-focus-ring-error);
    }
}

.d-checkbox--success {
    --check-radio--color: var(--success-color);
    --check-radio--bc: var(--check-radio--color);

    &:focus-visible,
    &:checked:focus-visible {
        box-shadow: var(--bs-focus-ring-success);
    }
}


//  ============================================================================
//  $   RADIOS
//  ----------------------------------------------------------------------------
.d-radio {
    @supports ((-webkit-appearance: none) or (-moz-appearance: none) or (appearance: none)) {
        border-radius: var(--br-circle);

        // Disabled
        &[disabled],
        &--disabled {
            --check-radio--color: var(--black-400);
            --check-radio--bc: var(--black-400);
            --check-radio--bgc: var(--black-300);
        }

        &:focus-visible,
        &:checked:focus-visible {
          box-shadow: var(--bs-focus-ring), inset 0 0 0 var(--su2) var(--white);
        }

        &:checked {
            --check-radio--bgc: var(--check-radio--color);

            box-shadow: inset 0 0 0 var(--su2) var(--white);

            // Disabled
            &[disabled] {
                --check-radio--bgc: var(--black-400);
            }
        }

        &--disabled:checked {
            --check-radio--bgc: var(--black-400);
        }
    }
}

//  $$  RADIO VALIDATION STATES
//  ----------------------------------------------------------------------------
.d-radio--warning {
    --check-radio--color: var(--warning-color);
    --check-radio--bc: var(--check-radio--color);

    &:focus-visible,
    &:checked:focus-visible {
      box-shadow: var(--bs-focus-ring-warning), inset 0 0 0 var(--su2) var(--white);
    }
}

.d-radio--error {
    --check-radio--color: var(--error-color);
    --check-radio--bc: var(--check-radio--color);

    &:focus-visible,
    &:checked:focus-visible {
      box-shadow: var(--bs-focus-ring-error), inset 0 0 0 var(--su2) var(--white);
    }
}

.d-radio--success {
    --check-radio--color: var(--success-color);
    --check-radio--bc: var(--check-radio--color);

    &:focus-visible,
    &:checked:focus-visible {
      box-shadow: var(--bs-focus-ring-success), inset 0 0 0 var(--su2) var(--white);
    }
}
