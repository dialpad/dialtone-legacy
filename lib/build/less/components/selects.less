@import (reference) '../variables/sizes.less';
@import (reference) '../variables/icons.less';
@import (reference) 'input.less';

//
//  DIALTONE
//  COMPONENTS: SELECT MENUS
//
//  These are select menu classes for Dialpad's design system Dialtone.
//  For further documentation of these and other classes,
//  visit https://dialpad.design/components/select
//
//  TABLE OF CONTENTS
//  • SELECT MENUS
//    - Sizes
//  • SELECT MENU INPUTS
//    - Validation States
//

//  ============================================================================
//  $  SELECT MENU (NATIVE)
//  ----------------------------------------------------------------------------
.d-select {
  //  Component CSS Vars
  //  --------------------------------------------------------------------------
  --select--bc: var(--black-400);
  --select--bgc: var(--white);
  --select--fc: var(--black-800);
  --select--bs: var(--focus-ring);

  position: relative;
  display: inline-flex; // important to the children alignment
  box-sizing: border-box;
  width: 100%; // important to fill the available space
  width: -webkit-fill-available; // important to fill the available space
  font-weight: inherit;
  font-size: var(--fs18);
  font-family: inherit;
  line-height: var(--lh-tight);

  //  --  Arrows
  &::before,
  &::after {
    position: absolute;
    right: 0.75em;
    z-index: var(--zi-selected);
    border-color: var(--black-900) transparent;
    border-style: solid;
    border-width: 0.25em;
    content: '';
    pointer-events: none;
  }

  &::before {
    top: calc(~'50% - 0.25em');
    border-top-width: 0;
  }

  &::after {
    top: calc(~'50% + 0.125em');
    border-bottom-width: 0;
  }
}

//  $$  SIZES
//  ----------------------------------------------------------------------------
.d-select--xs {
  font-size: var(--fs14);

  .d-select__input {
    .input-button-xs();
  }
}

.d-select--sm {
  font-size: var(--fs16);

  .d-select__input {
    .input-button-sm();
  }
}

.d-select--lg {
  font-size: var(--fs20);

  .d-select__input {
    .input-button-lg();
  }
}

.d-select--xl {
  font-size: var(--fs24);

  .d-select__input {
    .input-button-xl();
  }
}

//  $  SELECT MENU INPUT
//  ----------------------------------------------------------------------------
.d-select__input {
  height: 100%; // Fill the height of its parent
  padding: 0.7rem 2em 0.7rem 0.8rem;
  color: var(--select--fc);
  background-color: var(--select--bgc);
  border-color: var(--select--bc);
  //  [1] Reset the appearance
  -webkit-appearance: none;
      -moz-appearance: none;
          appearance: none;

  //  [2] Update the styles
  .d-input();

  --select--bc: var(--black-500);

  &:focus {
    --select--bc: var(--primary-color);

    box-shadow: var(--bs-focus-ring);
  }

  &:disabled {
    color: var(--black-400);
    background: var(--black-075);
    border: 1px solid var(--black-200);
  }

  &::-moz-focus-inner {
    outline: none !important;
  }

  &:-moz-focusring {
    color: transparent;
    text-shadow: 0 0 0 var(--black-900);
  }

  &::-ms-expand {
    display: none;
  }
}

//  $$  VALIDATION STATES
//  ------------------------------------------------------------------------
.d-select__input--success {
  --select--bc: var(--success-color);

  &:focus {
    --select--bc: var(--success-color);

    box-shadow: var(--bs-focus-ring-success);
  }
}

.d-select__input--error {
  --select--bc: var(--error-color);

  &:focus {
    --select--bc: var(--error-color);

    box-shadow: var(--bs-focus-ring-error);
  }
}

.d-select__input--warning {
  --select--bc: var(--warning-color);

  &:focus {
    --select--bc: var(--warning-color);

    box-shadow: var(--bs-focus-ring-warning);
  }
}

.d-select--disabled {
  &::before,
  &::after {
    border-color: var(--black-400) transparent;
  }
}
