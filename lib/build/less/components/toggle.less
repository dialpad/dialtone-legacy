//@import (reference) '../variables/icons.less';

//
//  DIALTONE
//  COMPONENTS: TOGGLE
//
//  These are toggle classes for Dialpad's design system Dialtone.
//  For further documentation of these and other classes,
//  visit https://dialpad.design/components/toggle
//
//  TABLE OF CONTENTS
//  • BASE STYLE
//  • TOGGLE VARIANTS
//  • CHECKED TOGGLE
//  • INDETERMINATE TOGGLE
//  • FOCUSED TOGGLE
//  • DISABLED TOGGLE
//
//
//  ============================================================================
//  $   BASE STYLE
//  ----------------------------------------------------------------------------
.d-toggle {
  //  Component specific CSS Vars
  //  ------------------------------------------------------------------------
  --toggle-ta: var(--ttf-in-out);
  --toggle-ts: var(--td200);
  --toggle-bgc: var(--black-400);
  --toggle-height: var(--su24);
  --toggle-width: var(--su48);
  --toggle-icon-size: var(--su16);

  //  $$  BASE STYLE
  //  ----------------------------------------------------------------------------
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  width: var(--toggle-width);
  height: var(--toggle-height);
  padding: 0;
  line-height: var(--lh4);
  vertical-align: middle;
  background-color: var(--toggle-bgc);
  border: var(--su1) solid var(--toggle-bgc);
  border-radius: var(--toggle-width);
  cursor: pointer;

  &__inner {
    position: absolute;
    top: calc(var(--su4) - var(--su1));
    left: var(--su24);
    width: var(--toggle-icon-size);
    height: var(--toggle-icon-size);

    .d-toggle--small & {
      top: var(--su1);
      left: calc(var(--su16) + var(--su1));
    }

    .d-toggle--indeterminate & {
      display: none;
    }

    color: var(--white);
    background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01LjM4MTI4IDUuMzgxMjhDNS43MjI5OSA1LjAzOTU3IDYuMjc3MDEgNS4wMzk1NyA2LjYxODcyIDUuMzgxMjhMMTIgMTAuNzYyNkwxNy4zODEzIDUuMzgxMjhDMTcuNzIzIDUuMDM5NTcgMTguMjc3IDUuMDM5NTcgMTguNjE4NyA1LjM4MTI4QzE4Ljk2MDQgNS43MjI5OSAxOC45NjA0IDYuMjc3MDEgMTguNjE4NyA2LjYxODcyTDEzLjIzNzQgMTJMMTguNjE4NyAxNy4zODEzQzE4Ljk2MDQgMTcuNzIzIDE4Ljk2MDQgMTguMjc3IDE4LjYxODcgMTguNjE4N0MxOC4yNzcgMTguOTYwNCAxNy43MjMgMTguOTYwNCAxNy4zODEzIDE4LjYxODdMMTIgMTMuMjM3NEw2LjYxODcyIDE4LjYxODdDNi4yNzcwMSAxOC45NjA0IDUuNzIyOTkgMTguOTYwNCA1LjM4MTI4IDE4LjYxODdDNS4wMzk1NyAxOC4yNzcgNS4wMzk1NyAxNy43MjMgNS4zODEyOCAxNy4zODEzTDEwLjc2MjYgMTJMNS4zODEyOCA2LjYxODcyQzUuMDM5NTcgNi4yNzcwMSA1LjAzOTU3IDUuNzIyOTkgNS4zODEyOCA1LjM4MTI4WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==');
    background-repeat: no-repeat;
    background-size: cover;
  }

  &::after {
    position: absolute;
    top: var(--su1);
    left: var(--su1);
    width: calc(var(--toggle-icon-size) + var(--su4));
    height: calc(var(--toggle-icon-size) + var(--su4));
    background-color: var(--white);
    border-radius: var(--br-circle);
    cursor: pointer;
    transition: left var(--toggle-ts) var(--toggle-ta);
    content: ' ';
  }

  //  $$  TOGGLE VARIANTS
  //  ----------------------------------------------------------------------------
  &--small {
    --toggle-height: calc(var(--su16) + var(--su2));
    --toggle-width: calc(var(--su32) + var(--su4));
    --toggle-icon-size: calc(var(--su12) + var(--su2));

    &::before {
      position: absolute;
      top: calc(var(--su4) * -1);
      right: 0;
      bottom: calc(var(--su4) * -1);
      left: 0;
      content: '';
    }
  }

  &--small::after {
    width: var(--toggle-icon-size);
    height: var(--toggle-icon-size);
  }

  //  $$  CHECKED TOGGLE
  //  ----------------------------------------------------------------------------
  &--checked {
    --toggle-bgc: var(--primary-color);

    .d-toggle__inner {
      left: var(--su6);
      background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC42MTg3IDUuMzgxMjhDMjAuOTYwNCA1LjcyMjk5IDIwLjk2MDQgNi4yNzcwMSAyMC42MTg3IDYuNjE4NzJMOS42MTg3MiAxNy42MTg3QzkuMjc3MDEgMTcuOTYwNCA4LjcyMjk5IDE3Ljk2MDQgOC4zODEyOCAxNy42MTg3TDMuMzgxMjggMTIuNjE4N0MzLjAzOTU3IDEyLjI3NyAzLjAzOTU3IDExLjcyMyAzLjM4MTI4IDExLjM4MTNDMy43MjI5OSAxMS4wMzk2IDQuMjc3MDEgMTEuMDM5NiA0LjYxODcyIDExLjM4MTNMOSAxNS43NjI2TDE5LjM4MTMgNS4zODEyOEMxOS43MjMgNS4wMzk1NyAyMC4yNzcgNS4wMzk1NyAyMC42MTg3IDUuMzgxMjhaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K');
    }

    &.d-toggle--small .d-toggle__inner {
      left: calc(var(--su2) + var(--su1));
    }

    &::after {
      left: calc(var(--su24) + var(--su1));
    }

    &.d-toggle--small::after {
      right: var(--su1);
      left: calc(var(--su16) + var(--su2) + var(--su1));
    }
  }

  //  $$  INDETERMINATE TOGGLE
  //  ----------------------------------------------------------------------------
  &--indeterminate {
    &__inner {
      display: none;
    }

    &::after {
      left: 50%;
      transform: translate(-50%, 0);
    }
  }

  //  $$  FOCUSED TOGGLE
  //  ----------------------------------------------------------------------------
  &:focus-visible {
    outline: none;
    box-shadow: var(--bs-focus-ring);
  }

  //  $$  DISABLED TOGGLE
  //  ----------------------------------------------------------------------------
  &--disabled,
  &[disabled] {
    cursor: not-allowed;
    opacity: 0.5;

    &::after {
      cursor: not-allowed;
      transition-property: none;
    }
  }
}

.d-toggle-group {
  gap: var(--su8);
}
