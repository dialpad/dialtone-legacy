//
//  DIALTONE
//  COMPONENTS: Avatars
//
//  These are avatars classes for Dialpad's design system Dialtone.
//  For further documentation of these and other classes,
//  visit https://dialpad.design/components/avatars
//
//  TABLE OF CONTENTS
//  • BASE STYLE
//    • CHILDREN
//    • SIZES
//    • VARIANTS
//
//  ============================================================================
//  $   BASE STYLE
//  ----------------------------------------------------------------------------
.d-avatar {
  //  Component CSS Vars
  //  ------------------------------------------------------------------------
  --avatar-color-background: var(--dt-color-surface-moderate);
  --avatar-color-text: var(--fc-secondary);
  --avatar-gradient-angle: -180deg;
  --avatar-gradient-stop-1: var(--dt-color-blue-200);
  --avatar-gradient-stop-2: var(--dt-color-purple-100);
  --avatar-gradient-stop-3: var(--dt-color-gold-100);
  --avatar-gradient:
    conic-gradient(
      from var(--avatar-gradient-angle) at 50% 50%,
      var(--avatar-gradient-stop-1) 0deg,
      var(--avatar-gradient-stop-2) 180deg,
      var(--avatar-gradient-stop-3) 360deg
    );
  --avatar-size-shape: var(--size-600);
  --avatar-size-image: 100%;
  --avatar-size-text: var(--fs-200);
  --avatar-presence-position-right: var(--space-200-negative);
  --avatar-presence-position-bottom: var(--space-200-negative);
  --avatar-count-color-shadow: var(--theme-sidebar-color-background);

  position: relative;
  display: flex;
  color: var(--avatar-color-text);

  //  --  CHILDREN
  //  ------------------------------------------------------------------------

  &__canvas {
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--avatar-size-shape);
    height: var(--avatar-size-shape);
    overflow: hidden;
    background-color: var(--avatar-color-background);
    background-image: var(--avatar-gradient);
    border-radius: var(--br-pill);

    .d-avatar--no-gradient & {
      background-image: none;
    }
  }

  &__image {
    width: var(--avatar-size-image);
    height: var(--avatar-size-image);
    object-fit: cover;
    border-radius: var(--br-pill);
  }

  &__initials {
    font-weight: var(--fw-bold);
    font-size: var(--avatar-size-text);
    line-height: var(--lh-100);
    text-transform: uppercase;
  }

  &__icon {
    display: flex;
  }

  &__presence {
    position: absolute;
    right: var(--avatar-presence-position-right);
    bottom: var(--avatar-presence-position-bottom);
    display: flex;
  }

  &__count {
    position: absolute;
    right: 0;
    bottom: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    min-width: calc(var(--size-300) * 3.5);
    padding: var(--space-200) calc(var(--space-200) + var(--space-100));
    color: var(--fc-primary-inverted);
    font-weight: var(--fw-bold);
    font-size: calc(var(--fs-100) - var(--size-200));
    line-height: var(--lh-100);
    text-align: center;
    background-color: var(--dt-color-black-600);
    border-radius: var(--br-pill);
    box-shadow: 0 0 0 var(--size-200) var(--avatar-count-color-shadow);

    .dt-leftbar-row--selected &,
    .dt-leftbar-row__primary:hover & {
      --avatar-count-color-shadow: var(--theme-sidebar-row-color-background-hover);
    }
  }

  //  --  SIZES
  //  ------------------------------------------------------------------------

  &--xs {
    --avatar-size-shape: calc(var(--size-500) + var(--size-200));
    --avatar-presence-position-right: var(--space-300-negative);
    --avatar-presence-position-bottom: var(--space-300-negative);
  }

  &--sm {
    --avatar-size-shape: var(--size-550);
    --avatar-size-text: var(--fs-100);
    --avatar-presence-position-right: var(--space-200-negative);
    --avatar-presence-position-bottom: var(--space-200-negative);
  }

  &--md {
    --avatar-size-shape: var(--size-600);
    --avatar-size-text: var(--fs-200);
    --avatar-presence-position-right: var(--space-100-negative);
    --avatar-presence-position-bottom: var(--space-100-negative);
  }

  &--lg {
    --avatar-size-shape: var(--size-650);
    --avatar-size-text: var(--fs-300);
    --avatar-presence-position-right: var(--space-100);
    --avatar-presence-position-bottom: var(--space-100);
  }

  &--xl {
    --avatar-size-shape: var(--size-700);
    --avatar-size-text: var(--fs-400);
    --avatar-presence-position-right: var(--space-300);
    --avatar-presence-position-bottom: var(--space-300);
  }

  //  --  GROUP
  //  ------------------------------------------------------------------------

  &--group {
    --avatar-size-shape: calc(var(--size-300) * 4.5);

    width: var(--size-550);
    height: var(--size-550);
  }
}
