//
//  DIALTONE
//  COMPONENTS: BUTTONS
//
//  These are button classes for Dialpad's design system Dialtone.
//  For further documentation of these and other classes,
//  visit https://dialpad.design/components/buttons
//
//  TABLE OF CONTENTS
//  • VARIABLES
//  • BASE STYLE
//  • ALTERNATE STYLES
//  • ARROW DIRECTIONS
//    - BOTTOM CENTER
//    - LEFT CENTER
//
//  ============================================================================
//  @   TOKENS
//  ----------------------------------------------------------------------------
@tooltip-background:            fade(@slate,95%);
@tooltip-color:                 @ash;
@tooltip-background--inverted:  fade(@ash,98%);
@tooltip-color--inverted:       @color--dark-light;

//  ============================================================================
//  @   BASE STYLE
//  ----------------------------------------------------------------------------
.d-tooltip() {
    box-sizing: border-box;

    position: absolute;
    .d-padding8();
    .d-padding-bottom6();
    .d-width100();
    .d-max-width2();
    .d-z-index--tooltip();

    .d-border-radius--sm();
    background-color: @tooltip-background;
    color: @tooltip-color;
    .d-text--xs();
    .d-line-height--md();

    .d-opacity0();
    visibility: hidden;
    transition:
        visibility 0s 200ms,
        transform 200ms @transition--cubic-inOut 0s,
        opacity 200ms @transition--cubic-inOut 0s;

    pointer-events: none;

    &::before {
        content: "";
        position: absolute;
        border: 0.6rem solid transparent;
    }
}

//  ============================================================================
//  @   INVERTED STYLE
//  ----------------------------------------------------------------------------
.d-tooltip--inverted() {
    background-color: @tooltip-background--inverted;
    color: @tooltip-color--inverted;
}

//  ============================================================================
//  @   HOVER MIXIN
//  ============================================================================
//  --  If the button doesn't have a d-btn class, you will need to re-apply the
//      hover state within your CSS. This hover mixin allows you to easily do so.
//  ----------------------------------------------------------------------------
.d-tooltip-hover() {
    transform: translate(0,0);
    .d-opacity100;
    visibility: visible;
    transition:
        visibility 0s 0s,
        transform 200ms @transition--cubic-inOut 10ms,
        opacity 200ms @transition--cubic-inOut 10ms;
}

.d-tooltip--hover:hover [class^="d-tooltip__"] {
    .d-tooltip-hover();
}


//  ============================================================================
//  @   TOOLTIP DIRECTIONS
//  ============================================================================
//  @@  TOP
//  ----------------------------------------------------------------------------
.d-tooltip__top-left,
.d-tooltip__top-center,
.d-tooltip__top-right,
.d-tooltip__top-left--inverted,
.d-tooltip__top-center--inverted,
.d-tooltip__top-right--inverted {
    .d-tooltip();

    top: calc(~"100% + @{spacing12}");
    transform: translateY(@spacing16);

    &::before {
        top: -(@spacing6);
        border-top-width: 0;
        border-bottom-color: @tooltip-background;
    }
}

//  @@  INVERTED
.d-tooltip__top-left--inverted,
.d-tooltip__top-center--inverted,
.d-tooltip__top-right--inverted {
    .d-tooltip--inverted();

    &::before {
        border-bottom-color: @tooltip-background--inverted;
    }
}

//  @@  BOTTOM
//  ----------------------------------------------------------------------------
.d-tooltip__bottom-left,
.d-tooltip__bottom-center,
.d-tooltip__bottom-right,
.d-tooltip__bottom-left--inverted,
.d-tooltip__bottom-center--inverted,
.d-tooltip__bottom-right--inverted {
    .d-tooltip();

    bottom: calc(~"100% + @{spacing12}");
    transform: translateY(-(@spacing16));

    &::before {
        bottom: -(@spacing6);
        border-bottom-width: 0;
        border-top-color: @tooltip-background;
    }
}

//  @@  INVERTED
.d-tooltip__bottom-left--inverted,
.d-tooltip__bottom-center--inverted,
.d-tooltip__bottom-right--inverted {
    .d-tooltip--inverted();

    &::before {
        border-top-color: @tooltip-background--inverted;
    }
}


//  @@  TOP / BOTTOM LEFT
//  ----------------------------------------------------------------------------
.d-tooltip__top-left,
.d-tooltip__bottom-left,
.d-tooltip__top-left--inverted,
.d-tooltip__bottom-left--inverted {
    left: -(@spacing2);

    &::before {
        left: @spacing16;
    }
}

//  @@  TOP / BOTTOM CENTER
//  ----------------------------------------------------------------------------
.d-tooltip__top-center,
.d-tooltip__bottom-center,
.d-tooltip__top-center--inverted,
.d-tooltip__bottom-center--inverted {
    &::before {
        left: 50%;
        margin-left: -(@spacing6);
    }
}

//  @@  TOP / BOTTOM RIGHT
//  ----------------------------------------------------------------------------
.d-tooltip__top-right,
.d-tooltip__bottom-right,
.d-tooltip__top-right--inverted,
.d-tooltip__bottom-right--inverted {
    right: -(@spacing2);

    &::before {
        right: @spacing16;
    }
}

//  @@  RIGHT
//  ----------------------------------------------------------------------------
.d-tooltip__right-top,
.d-tooltip__right-center,
.d-tooltip__right-bottom,
.d-tooltip__right-top--inverted,
.d-tooltip__right-center--inverted,
.d-tooltip__right-bottom--inverted {
    .d-tooltip();

    right: calc(~"100% + @{spacing12}");
    transform: translateX(-(@spacing16));

    &::before {
        right: -(@spacing6);
        border-right-width: 0;
        border-left-color: @tooltip-background;
    }
}

//  @@  INVERTED
.d-tooltip__right-top--inverted,
.d-tooltip__right-center--inverted,
.d-tooltip__right-bottom--inverted {
    .d-tooltip--inverted();

    &::before {
        border-left-color: @tooltip-background--inverted;
    }
}

//  @@  LEFT
//  ----------------------------------------------------------------------------
.d-tooltip__left-top,
.d-tooltip__left-center,
.d-tooltip__left-bottom,
.d-tooltip__left-top--inverted,
.d-tooltip__left-center--inverted,
.d-tooltip__left-bottom--inverted {
    .d-tooltip();

    left: calc(~"100% + @{spacing12}");
    transform: translateX(@spacing16);

    &::before {
        left: -(@spacing6);
        border-left-width: 0;
        border-right-color: @tooltip-background;
    }
}

//  @@  INVERTED
.d-tooltip__left-top--inverted,
.d-tooltip__left-center--inverted,
.d-tooltip__left-bottom--inverted {
    .d-tooltip--inverted();

    &::before {
        border-right-color: @tooltip-background--inverted;
    }
}

//  @@  RIGHT / LEFT TOP
//  ----------------------------------------------------------------------------
.d-tooltip__right-top,
.d-tooltip__left-top,
.d-tooltip__right-top--inverted,
.d-tooltip__left-top--inverted {
    top: -(@spacing1);

    &::before {
        top: @spacing8;
    }
}

//  @@  RIGHT / LEFT CENTER
//  ----------------------------------------------------------------------------
.d-tooltip__right-center,
.d-tooltip__left-center,
.d-tooltip__right-center--inverted,
.d-tooltip__left-center--inverted {
    &::before {
        top: 50%;
        margin-top: -(@spacing6);
    }
}

//  @@  RIGHT / LEFT BOTTOM
//  ----------------------------------------------------------------------------
.d-tooltip__right-bottom,
.d-tooltip__left-bottom,
.d-tooltip__right-bottom--inverted,
.d-tooltip__left-bottom--inverted {
    bottom: -(@spacing1);

    &::before {
        bottom: @spacing8;
    }
}
